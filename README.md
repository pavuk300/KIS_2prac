# Практическая № 2
__ФИО__: Аникин Евгений Викторович   
__Вариант__: 4   
__Язык программирования__: Python

# Постановка задачи
Разработать инструмент визуализации графа зависимостей для менеджера пакетов. Готовые средства (менеджеры пакетов, библиотеки) для получения зависимостей использовать нельзя.

## Этап 1. Минимальный прототип с конфигурацией ##
___Цель___: создать минимальное CLI-приложение и сделать его настраиваемым.  
___Требования___:
1. Источником настраиваемых пользователем параметров являются опции командной строки.
2. К настраиваемым параметрам относятся:
	– Имя анализируемого пакета.
	– URL-адрес репозитория или путь к файлу тестового репозитория.
	– Режим работы с тестовым репозиторием.
	– Режим вывода зависимостей в формате ASCII-дерева.
	– Максимальная глубина анализа зависимостей.
	– Подстрока для фильтрации пакетов.
3. (только для этого этапа) При запуске приложения вывести все параметры, настраиваемые пользователем, в формате ключ-значение.
4. Реализовать и продемонстрировать обработку ошибок для всех параметров.
5. Результат выполнения этапа сохранить в репозиторий стандартно оформленным коммитом.

### Ход решения первого этапа
1. Парсим входные параметры командной строки при помощи argparse
2. Проверяем правильность введенных даных
3. Выводим пары ключ=значение всех параметров на печать

## Этап 2. Сбор данных ##
___Цель___: реализовать основную логику получения данных о зависимостях для их
дальнейшего анализа и визуализации. Запрещено пользоваться менеджерами
пакетов и сторонними библиотеками для получения информации о зависимостях
пакетов.  
___Требования___:
1. Использовать формат пакетов Ubuntu (apt).
2. Извлечь информацию о прямых зависимостях заданного пользователем пакета, используя URL-адрес репозитория.
3. (только для этого этапа) Вывести на экран все прямые зависимости заданного пользователем пакета.
4. Результат выполнения этапа сохранить в репозиторий стандартно оформленным коммитом.

### Ход решения первого этапа
1. По URL репозитория получаем Package.gz
2. Распаковываем его и получаем информацию, содержащуюся в файле Package
3. Парсим содержимое файла Package и получаем прямые зависимости данного пакета

## Этап 3. Основные операции
___Цель___: построить граф зависимостей (с учетом транзитивности) и выполнить основные операции над ним.  
___Требования___:
1. Получение графа зависимостей реализовать алгоритмом BFS с рекурсией.
2. Проводить анализ с учетом максимальной глубины, заданной пользователем.
3. Не учитывать при анализе пакеты, имя которых содержит заданную пользователем подстроку.
4. Корректно обработать случаи наличия циклических зависимостей.
5. Поддержать режим тестирования. Вместо URL реального репозитория, датьвозможность пользователю указать путь к файлу описания графа
репозитория, где пакеты называются большими латинскими буквами. Продемонстрировать функциональность этого этапа на различных случаях
работы с тестовым репозиторием.
6. Результат выполнения этапа сохранить в репозиторий стандартно оформленным коммитом.

### Ход решения первого этапа
1. Рекурсивно находим все зависимости пакета и записываем в виде словаря
2. Пропускаем пакеты, содержащие фильтр, а так же не пересекаем границу максимальной глубины
3. Включаем поддержку режима тестирования локального репозитория

## Этап 4. Дополнительные операции
___Цель___: выполнить дополнительные операции над графом зависимостей.  
___Требования___:
1. (только для этого этапа) Поддержать режим вывода на экран порядка
загрузки зависимостей для заданного пакета. Сравнить результаты с
реальным менеджером пакетов. Если есть расхождения в результатах,
объяснить их наличие.
2. Продемонстрировать функциональность этого этапа на различных случаях
работы с тестовым репозиторием.
3. Результат выполнения этапа сохранить в репозиторий стандартно
оформленным коммитом.

### Ход решения первого этапа
1. Выводим граф зависимостей в обратном порядке

## Этап 5. Визуализация
___Цель___: получить графическое представление графа зависимостей.  
___Требования___:
1. Сформировать текстовое представление графа зависимостей на языке диаграмм PlantUML.
2. Вывести на экран описание графа на языке диаграмм.
3. Если задан соответствующий параметр, вывести на экран зависимости в виде ASCII-дерева.
4. Продемонстрировать примеры визуализации зависимостей для трех различных пакетов.
5. Сравнить результаты с выводом штатных инструментов визуализации для выбранного менеджера пакетов. 
Если есть расхождения в результатах, объяснить их наличие.
6. Результат выполнения этапа сохранить в репозиторий стандартно оформленным коммитом.

### Ход решения первого этапа
1. Формируем иерархическое представление графа на языке диаграмм PlanetUML, выводим на печать и записываем в файл grph.txt
2. Выводим на печать ascii дерево(алгоритм написан через рекурсию), если поднят необходимый флаг
